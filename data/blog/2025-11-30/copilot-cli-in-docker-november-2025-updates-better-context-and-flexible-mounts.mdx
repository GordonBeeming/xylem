---
title: 'Copilot CLI in Docker: November 2025 Updates - Better Context and Flexible Mounts'
date: 2025-11-30
tags: ['Docker', 'GitHub Copilot', 'DevOps', 'Developer Experience', 'CLI Tools']
draft: true
summary: 'November 2025 brings two powerful improvements to copilot_here: actual path mapping for better multi-instance clarity, and a flexible mount system that lets you access additional directories with fine-grained control over read/write permissions.'
---

November's updates to [copilot_here](https://github.com/GordonBeeming/copilot_here) focus on two quality-of-life improvements that make working with the Docker-based Copilot CLI significantly better: knowing where you are and accessing what you need.

If you're new to copilot_here, check out my [previous posts](https://gordonbeeming.com/blog/2025-10-03/taming-the-ai-my-paranoid-guide-to-running-copilot-cli-in-a-secure-docker-sandbox) about running GitHub Copilot CLI in a secure, sandboxed Docker environment.

Want to dive deeper into the implementation or contribute? Check out the [copilot_here repository](https://github.com/GordonBeeming/copilot_here) on GitHub.

## What's New in November 2025

Two major improvements this month:

1. **[Actual Path Mapping](#1-actual-path-mapping-know-where-you-are)** - Container paths match your host paths for better context clarity
2. **[Flexible Directory Mounts](#2-flexible-directory-mounts-access-what-you-need)** - Mount additional directories with granular read/write control

## 1. Actual Path Mapping: Know Where You Are

### The Multi-Instance Confusion Problem

Picture this: You're investigating a bug, so you have three terminal windows open:
- One in `/Users/me/projects/api` debugging the backend
- One in `/Users/me/projects/frontend` checking the UI
- One in `/Users/me/investigations/bug-123` analyzing logs

But when you run `copilot_here` in each, they all show paths like `/work/src/...`. Which project am I in again? ðŸ¤”

### The Fix

Instead of mapping everything to `/work`, the container now uses your actual host path:

**Before:**
```bash
# In /Users/me/projects/api
copilot_here
# Container sees: /work/src/...

# In /Users/me/projects/frontend  
copilot_here
# Container sees: /work/src/... (wait, which one is this?)
```

**After:**
```bash
# In /Users/me/projects/api
copilot_here
# Container sees: /Users/me/projects/api/src/...

# In /Users/me/projects/frontend
copilot_here
# Container sees: /Users/me/projects/frontend/src/... (crystal clear!)
```

### The Technical Change

The Docker volume mapping changed from a fixed mount point to dynamic path matching:

```bash
# Old approach
docker run -v "$(pwd):/work" -w /work ...

# New approach  
local current_dir="$(pwd)"
docker run -v "$current_dir:$current_dir" -w "$current_dir" ...
```

### Why This Matters

1. **Multi-instance clarity**: Instantly know which project you're working in
2. **Path consistency**: Copy/paste paths between host and container without translation
3. **Better error messages**: Stack traces and logs show real paths
4. **Mental overhead reduction**: No more "is this `/work` the API or the frontend?"

## 2. Flexible Directory Mounts: Access What You Need

### The "I Need That Other Folder" Problem

You're using Copilot to analyze a bug, and you want to:
- Save investigation notes to `~/investigations/bug-123`
- Reference architecture docs from `~/docs/architecture`
- Check logs in `/var/log/app`

But copilot_here only had access to your current directory. Your options were:
1. Copy files into the current project (messy)
2. Run copilot in a parent directory (too much access)
3. Give up and work without those files (sad)

### The Solution: A Three-Tier Mount System

November introduces a flexible mounting system with three levels of configuration:

#### 1. CLI Flags (Quick & Temporary)

Need a directory just for this session?

```bash
# Read-only mount
copilot_here --mount ~/investigations

# Read-write mount
copilot_here --mount-rw ~/notes

# Multiple mounts
copilot_here --mount ~/docs --mount-rw ~/output
```

#### 2. Local Config (Project-Specific)

Have a project that always needs certain directories? Save them to `.copilot_here/mounts.conf`:

```bash
# Save a mount for this project
copilot_here --save-mount ~/investigations

# Now every copilot_here run in this project auto-loads it
```

The config file format is simple:

```text
~/investigations:ro
../shared-data:ro
~/project-notes:rw
```

#### 3. Global Config (User-Wide Defaults)

Want certain directories available everywhere? Save to global config:

```bash
copilot_here --save-mount-global ~/common-notes
```

Global config lives at `~/.config/copilot_here/mounts.conf` and applies to all copilot_here sessions.

### Mount Priority: CLI > Local > Global

All three levels merge together, with CLI flags having the highest priority:

```bash
# Global config has: ~/notes:ro
# Local config has: ~/notes:rw
# CLI specifies: --mount ~/notes

# Result: ~/notes mounted read-only (CLI wins)
```

### Read-Only by Default (Security First)

Mounts default to read-only for safety:

```bash
# These are read-only
--mount ~/data
--save-mount ~/investigations

# Explicitly request write access
--mount-rw ~/output
--save-mount ~/workspace:rw
```

### Security Warnings for Sensitive Paths

Try to mount something sensitive? You'll get a warning:

```bash
copilot_here --mount /

âš ï¸  Warning: You're about to mount a sensitive system path: /
This grants Copilot read access to your entire filesystem.
Are you sure you want to proceed? [y/N]:
```

Sensitive paths that trigger warnings:
- **Linux/macOS**: `/`, `/etc`, `~/.ssh`, `/root`
- **Windows**: `C:/`, `C:/Windows`, `C:/Program Files`

### Managing Saved Mounts

```bash
# List all configured mounts
copilot_here --list-mounts

# Output:
# ðŸ“‚ Saved mounts:
#   ðŸŒ ~/common-notes (rw)    [global]
#   ðŸ“ ~/investigations (ro)   [local]

# Remove a mount
copilot_here --remove-mount ~/investigations
```

### How It Looks When You Run It

When you start copilot_here with mounts configured, you'll see exactly what's mounted:

```bash
copilot_here --mount ~/docs -p "explain the architecture"

ðŸš€ Using image: ghcr.io/gordonbeeming/copilot_here:latest
ðŸ“‚ Mounts:
   ðŸ“ /Users/me/projects/api
   ðŸŒ ~/common-notes (rw)
   ðŸ“ ~/investigations (ro)
   ðŸ”§ ~/docs (ro)
```

Legend:
- ðŸ“ = Current working directory
- ðŸŒ = Global config
- ðŸ“ = Local config  
- ðŸ”§ = CLI flag

### Path Resolution: Flexible and Smart

The mount system handles different path formats intelligently:

```bash
# Relative paths (from current directory)
--mount ../shared-data
--mount ../../investigations

# Absolute paths
--mount /data/research
--mount /var/log/app

# Tilde expansion (home directory)
--mount ~/notes
--mount ~/Documents/research
```

### Auto-Added to Copilot's Allowed Paths

Mounted directories are automatically added to Copilot's `--add-dir` list, so the AI can access files in those locations without additional configuration.

## Real-World Use Cases

### Use Case 1: Bug Investigation

```bash
# In your project directory
copilot_here --mount-rw ~/investigations/bug-123 \
  -p "analyze the crash in auth.js and save findings to ~/investigations/bug-123/notes.md"
```

Copilot can now read your project files AND write investigation notes to a separate folder.

### Use Case 2: Documentation Reference

```bash
# Save architecture docs to global config
copilot_here --save-mount-global ~/docs/architecture

# Now in any project
copilot_here -p "does this code follow our architecture patterns?"
```

Copilot has access to your architecture docs in every project.

### Use Case 3: Shared Team Data

```bash
# In project root, save team's shared data folder
copilot_here --save-mount ../shared-team-data

# Every team member running copilot_here in this project gets the same mounts
git commit .copilot_here/mounts.conf
```

## Example Workflow: Multi-Project Analysis

Here's how the new features work together:

```bash
# Terminal 1: Backend API in ~/projects/api
cd ~/projects/api
copilot_here --mount ~/investigations -p "find all database queries"

# Terminal 2: Frontend in ~/projects/frontend  
cd ~/projects/frontend
copilot_here --mount ~/investigations -p "find all API calls"

# Terminal 3: Investigation folder
cd ~/investigations
copilot_here --mount ~/projects/api --mount ~/projects/frontend \
  -p "compare the API contracts between backend and frontend"
```

Each terminal shows its actual path, and you can cross-reference between projects easily.

## What's Next?

The core mounting features are solid, but I'm considering:
- Mount aliases (e.g., `inv` â†’ `~/investigations`)
- `--mount-all` flag for common directory sets
- Per-mount security policies
- Better Windows network path handling

But honestly? It works really well now. Sometimes knowing when to stop adding features is the best feature.

## Version Information

These changes are available in version **2025-11-05** and later. Update your scripts:

```bash
# Bash/Zsh
copilot_here --update-scripts

# PowerShell
Copilot-Here -UpdateScripts
```

## Try It Out

If you haven't tried copilot_here yet, the installation is literally three commands:

```bash
curl -fsSL https://raw.githubusercontent.com/GordonBeeming/copilot_here/main/copilot_here.sh -o ~/.copilot_here.sh
echo 'source ~/.copilot_here.sh' >> ~/.zshrc
source ~/.zshrc
```

Check out the project on GitHub: [copilot_here](https://github.com/GordonBeeming/copilot_here)

*Questions? Suggestions? Drop a comment below or open an issue on GitHub!*
